<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üñêÔ∏è Finger Counting Fun - Learn English Numbers!</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Kinetic English Palette */
            --cyan-primary: #3DD8E6;
            --gray-dark: #4A4A4A;
            --yellow-sun: #F9C21B;
            --red-brick: #D94A2F;
            --blue-sky: #A8D5F2;
            --green-grass: #7CC74C;
            --brown-light: #B36A3F;
            --skin-tone: #F7C8A3;
            --white: #FFFFFF;
            
            /* Extended palette */
            --cyan-light: #7BE8F2;
            --cyan-dark: #2BB5C2;
            --yellow-light: #FFD84D;
            --red-light: #E8715A;
            --green-light: #9BD96E;
            --purple-accent: #9B7DCE;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(180deg, var(--blue-sky) 0%, #D4EEFF 50%, var(--white) 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Decorative background elements */
        .bg-decoration {
            position: fixed;
            pointer-events: none;
            z-index: 0;
        }

        .cloud {
            position: fixed;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50px;
            animation: float 20s ease-in-out infinite;
        }

        .cloud::before, .cloud::after {
            content: '';
            position: absolute;
            background: inherit;
            border-radius: 50%;
        }

        .cloud-1 {
            width: 120px;
            height: 40px;
            top: 8%;
            left: 10%;
            animation-delay: 0s;
        }

        .cloud-1::before {
            width: 50px;
            height: 50px;
            top: -25px;
            left: 15px;
        }

        .cloud-1::after {
            width: 35px;
            height: 35px;
            top: -15px;
            left: 55px;
        }

        .cloud-2 {
            width: 100px;
            height: 35px;
            top: 15%;
            right: 15%;
            animation-delay: -5s;
        }

        .cloud-2::before {
            width: 40px;
            height: 40px;
            top: -20px;
            left: 10px;
        }

        .cloud-2::after {
            width: 30px;
            height: 30px;
            top: -12px;
            left: 45px;
        }

        .cloud-3 {
            width: 80px;
            height: 30px;
            top: 5%;
            left: 50%;
            animation-delay: -10s;
        }

        .cloud-3::before {
            width: 35px;
            height: 35px;
            top: -18px;
            left: 8px;
        }

        .cloud-3::after {
            width: 25px;
            height: 25px;
            top: -10px;
            left: 38px;
        }

        @keyframes float {
            0%, 100% { transform: translateX(0) translateY(0); }
            25% { transform: translateX(20px) translateY(-5px); }
            50% { transform: translateX(10px) translateY(5px); }
            75% { transform: translateX(-10px) translateY(-3px); }
        }

        /* Sun decoration */
        .sun {
            position: fixed;
            top: 20px;
            right: 30px;
            width: 80px;
            height: 80px;
            background: var(--yellow-sun);
            border-radius: 50%;
            box-shadow: 0 0 40px var(--yellow-sun), 0 0 60px rgba(249, 194, 27, 0.5);
            animation: pulse-sun 3s ease-in-out infinite;
            z-index: 0;
        }

        .sun::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, var(--yellow-sun) 0%, transparent 70%);
            animation: sun-rays 4s linear infinite;
        }

        @keyframes pulse-sun {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes sun-rays {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Grass at bottom */
        .grass {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: var(--green-grass);
            z-index: 0;
        }

        .grass::before {
            content: '';
            position: absolute;
            top: -20px;
            left: 0;
            right: 0;
            height: 30px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 20'%3E%3Cpath d='M0 20 Q5 5 10 20 Q15 8 20 20 Q25 3 30 20 Q35 10 40 20 Q45 5 50 20 Q55 8 60 20 Q65 3 70 20 Q75 10 80 20 Q85 5 90 20 Q95 8 100 20 L100 20 L0 20 Z' fill='%237CC74C'/%3E%3C/svg%3E") repeat-x;
            background-size: 100px 30px;
        }

        /* Main container */
        .game-container {
            position: relative;
            z-index: 1;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding-bottom: 80px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 15px;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 5px;
        }

        .logo-icon {
            font-size: 2.5rem;
            animation: wave 1s ease-in-out infinite;
        }

        @keyframes wave {
            0%, 100% { transform: rotate(-10deg); }
            50% { transform: rotate(10deg); }
        }

        h1 {
            font-family: 'Fredoka One', cursive;
            font-size: 2rem;
            color: var(--cyan-primary);
            text-shadow: 3px 3px 0 var(--gray-dark), 4px 4px 0 rgba(0,0,0,0.1);
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 1rem;
            color: var(--gray-dark);
            font-weight: 600;
        }

        /* Stats bar */
        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--white);
            border-radius: 20px;
            padding: 12px 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1), inset 0 -3px 0 rgba(0,0,0,0.05);
            border: 3px solid var(--cyan-light);
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }

        .stat-icon {
            font-size: 1.3rem;
        }

        .stat-value {
            font-family: 'Fredoka One', cursive;
            font-size: 1.4rem;
            color: var(--gray-dark);
        }

        .stat-label {
            font-size: 0.7rem;
            color: var(--gray-dark);
            font-weight: 600;
            text-transform: uppercase;
        }

        .stat-score .stat-value { color: var(--yellow-sun); }
        .stat-streak .stat-value { color: var(--red-brick); }
        .stat-question .stat-value { color: var(--cyan-primary); }

        /* Timer */
        .timer-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .timer {
            font-family: 'Fredoka One', cursive;
            font-size: 1.6rem;
            color: var(--green-grass);
            transition: all 0.3s ease;
        }

        .timer.warning {
            color: var(--yellow-sun);
            animation: pulse-warning 0.5s ease-in-out infinite;
        }

        .timer.danger {
            color: var(--red-brick);
            animation: pulse-danger 0.3s ease-in-out infinite;
        }

        @keyframes pulse-warning {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes pulse-danger {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        .timer-bar {
            width: 60px;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 3px;
        }

        .timer-fill {
            height: 100%;
            background: var(--green-grass);
            border-radius: 3px;
            transition: width 1s linear, background 0.3s ease;
        }

        .timer-fill.warning { background: var(--yellow-sun); }
        .timer-fill.danger { background: var(--red-brick); }

        /* Hands display */
        .hands-container {
            background: var(--white);
            border-radius: 30px;
            padding: 30px 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1), inset 0 -4px 0 rgba(0,0,0,0.05);
            border: 4px solid var(--cyan-light);
            position: relative;
            overflow: hidden;
        }

        .hands-container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(61, 216, 230, 0.05) 0%, transparent 50%);
            animation: shimmer 5s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hands-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            min-height: 200px;
            position: relative;
            z-index: 1;
        }

        .hand-svg {
            width: 140px;
            height: 180px;
            transition: transform 0.3s ease;
        }

        .hand-svg:hover {
            transform: scale(1.05);
        }

        .question-badge {
            position: absolute;
            top: 10px;
            right: 15px;
            background: var(--cyan-primary);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: 700;
            font-size: 0.85rem;
            z-index: 2;
        }

        /* Options */
        .options-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .option-btn {
            font-family: 'Fredoka One', cursive;
            font-size: 1.5rem;
            padding: 20px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-transform: capitalize;
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 0 rgba(0,0,0,0.2), 0 8px 20px rgba(0,0,0,0.1);
        }

        .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s ease;
        }

        .option-btn:hover::before {
            left: 100%;
        }

        .option-btn:nth-child(1) {
            background: linear-gradient(180deg, var(--cyan-primary) 0%, var(--cyan-dark) 100%);
            color: white;
        }

        .option-btn:nth-child(2) {
            background: linear-gradient(180deg, var(--yellow-sun) 0%, #E0A800 100%);
            color: var(--gray-dark);
        }

        .option-btn:nth-child(3) {
            background: linear-gradient(180deg, var(--green-grass) 0%, #5BA835 100%);
            color: white;
        }

        .option-btn:nth-child(4) {
            background: linear-gradient(180deg, var(--red-brick) 0%, #B83A20 100%);
            color: white;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 10px 0 rgba(0,0,0,0.2), 0 15px 30px rgba(0,0,0,0.15);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(2px);
            box-shadow: 0 3px 0 rgba(0,0,0,0.2), 0 5px 15px rgba(0,0,0,0.1);
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .option-btn.correct {
            animation: correct-bounce 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            background: linear-gradient(180deg, var(--green-grass) 0%, #5BA835 100%) !important;
            color: white !important;
        }

        .option-btn.incorrect {
            animation: shake 0.5s ease-in-out;
            background: linear-gradient(180deg, var(--red-brick) 0%, #B83A20 100%) !important;
            color: white !important;
        }

        @keyframes correct-bounce {
            0%, 100% { transform: scale(1); }
            30% { transform: scale(1.15); }
            60% { transform: scale(0.95); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-10px); }
            40% { transform: translateX(10px); }
            60% { transform: translateX(-10px); }
            80% { transform: translateX(10px); }
        }

        /* Feedback */
        .feedback {
            text-align: center;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .feedback-text {
            font-family: 'Fredoka One', cursive;
            font-size: 1.8rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .feedback-text.show {
            opacity: 1;
            transform: translateY(0);
        }

        .feedback-text.correct {
            color: var(--green-grass);
        }

        .feedback-text.incorrect {
            color: var(--red-brick);
        }

        .bonus-text {
            font-size: 1rem;
            color: var(--yellow-sun);
            font-weight: 700;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease 0.2s;
        }

        .bonus-text.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Next button */
        .next-btn {
            font-family: 'Fredoka One', cursive;
            font-size: 1.4rem;
            padding: 18px 50px;
            background: linear-gradient(180deg, var(--cyan-primary) 0%, var(--cyan-dark) 100%);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin: 0 auto;
            display: none;
            box-shadow: 0 6px 0 var(--cyan-dark), 0 10px 30px rgba(61, 216, 230, 0.4);
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .next-btn.show {
            display: block;
            animation: pop-in 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .next-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shine 2s infinite;
        }

        @keyframes shine {
            0% { left: -100%; }
            50%, 100% { left: 100%; }
        }

        .next-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 9px 0 var(--cyan-dark), 0 15px 40px rgba(61, 216, 230, 0.5);
        }

        .next-btn:active {
            transform: translateY(3px);
            box-shadow: 0 3px 0 var(--cyan-dark), 0 5px 20px rgba(61, 216, 230, 0.3);
        }

        @keyframes pop-in {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Confetti */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            overflow: hidden;
        }

        .confetti {
            position: absolute;
            font-size: 1.5rem;
            animation: confetti-fall linear forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-20px) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg) scale(0.5);
                opacity: 0;
            }
        }

        /* Game Over Screen */
        .game-over {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-over.show {
            display: flex;
        }

        .game-over-content {
            background: linear-gradient(180deg, var(--white) 0%, #F5F5F5 100%);
            border-radius: 30px;
            padding: 40px 30px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            animation: pop-in 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 5px solid var(--cyan-primary);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .trophy {
            font-size: 5rem;
            margin-bottom: 10px;
            animation: trophy-bounce 1s ease-in-out infinite;
        }

        @keyframes trophy-bounce {
            0%, 100% { transform: translateY(0) rotate(-5deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        .game-over h2 {
            font-family: 'Fredoka One', cursive;
            font-size: 2rem;
            color: var(--cyan-primary);
            margin-bottom: 20px;
        }

        .final-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .final-stat {
            background: var(--blue-sky);
            border-radius: 15px;
            padding: 15px 10px;
        }

        .final-stat-icon {
            font-size: 1.5rem;
        }

        .final-stat-value {
            font-family: 'Fredoka One', cursive;
            font-size: 1.8rem;
            color: var(--gray-dark);
        }

        .final-stat-label {
            font-size: 0.75rem;
            color: var(--gray-dark);
            font-weight: 600;
        }

        .message {
            font-size: 1.1rem;
            color: var(--gray-dark);
            margin-bottom: 25px;
            font-weight: 600;
            padding: 15px;
            background: linear-gradient(135deg, var(--yellow-light) 0%, var(--yellow-sun) 100%);
            border-radius: 15px;
        }

        .play-again-btn {
            font-family: 'Fredoka One', cursive;
            font-size: 1.3rem;
            padding: 18px 40px;
            background: linear-gradient(180deg, var(--green-grass) 0%, #5BA835 100%);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 0 #5BA835, 0 10px 30px rgba(124, 199, 76, 0.4);
            transition: all 0.2s ease;
        }

        .play-again-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 9px 0 #5BA835, 0 15px 40px rgba(124, 199, 76, 0.5);
        }

        .play-again-btn:active {
            transform: translateY(3px);
            box-shadow: 0 3px 0 #5BA835, 0 5px 20px rgba(124, 199, 76, 0.3);
        }

        /* Start Screen */
        .start-screen {
            display: flex;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, var(--blue-sky) 0%, #D4EEFF 50%, var(--white) 100%);
            z-index: 100;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .start-screen.hide {
            display: none;
        }

        .start-content {
            text-align: center;
            animation: float-in 0.8s ease-out;
        }

        @keyframes float-in {
            0% { transform: translateY(50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .start-hands {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: wave-hands 1s ease-in-out infinite alternate;
        }

        @keyframes wave-hands {
            0% { transform: rotate(-5deg); }
            100% { transform: rotate(5deg); }
        }

        .start-title {
            font-family: 'Fredoka One', cursive;
            font-size: 2.5rem;
            color: var(--cyan-primary);
            text-shadow: 4px 4px 0 var(--gray-dark);
            margin-bottom: 10px;
        }

        .start-subtitle {
            font-size: 1.2rem;
            color: var(--gray-dark);
            margin-bottom: 30px;
            font-weight: 600;
        }

        .start-btn {
            font-family: 'Fredoka One', cursive;
            font-size: 1.5rem;
            padding: 20px 60px;
            background: linear-gradient(180deg, var(--yellow-sun) 0%, #E0A800 100%);
            color: var(--gray-dark);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 0 #B8860B, 0 15px 40px rgba(249, 194, 27, 0.4);
            transition: all 0.2s ease;
            animation: pulse-btn 2s ease-in-out infinite;
        }

        @keyframes pulse-btn {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .start-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 12px 0 #B8860B, 0 20px 50px rgba(249, 194, 27, 0.5);
            animation: none;
        }

        .start-btn:active {
            transform: translateY(4px);
            box-shadow: 0 4px 0 #B8860B, 0 8px 25px rgba(249, 194, 27, 0.3);
        }

        /* Responsive */
        @media (max-width: 480px) {
            h1 { font-size: 1.5rem; }
            .hand-svg { width: 100px; height: 130px; }
            .option-btn { font-size: 1.2rem; padding: 15px 10px; }
            .stats-bar { padding: 10px 15px; }
            .stat-value { font-size: 1.1rem; }
            .start-title { font-size: 1.8rem; }
            .start-hands { font-size: 3.5rem; }
        }
    </style>
</head>
<body>
    <!-- Background decorations -->
    <div class="cloud cloud-1"></div>
    <div class="cloud cloud-2"></div>
    <div class="cloud cloud-3"></div>
    <div class="sun"></div>
    <div class="grass"></div>

    <!-- Start Screen -->
    <div class="start-screen" id="startScreen">
        <div class="start-content">
            <div class="start-hands">üñêÔ∏è‚úã</div>
            <h1 class="start-title">Finger Counting Fun!</h1>
            <p class="start-subtitle">Learn English numbers 1-10<br>with your fingers! üéâ</p>
            <button class="start-btn" onclick="startGame()">‚ñ∂Ô∏è Let's Play!</button>
        </div>
    </div>

    <!-- Main Game -->
    <div class="game-container">
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üñêÔ∏è</span>
                <h1>Finger Counting Fun!</h1>
            </div>
            <p class="subtitle">Count the fingers & pick the word!</p>
        </header>

        <div class="stats-bar">
            <div class="stat stat-score">
                <span class="stat-icon">‚≠ê</span>
                <span class="stat-value" id="score">0</span>
                <span class="stat-label">Points</span>
            </div>
            <div class="stat stat-streak">
                <span class="stat-icon">üî•</span>
                <span class="stat-value" id="streak">0</span>
                <span class="stat-label">Streak</span>
            </div>
            <div class="timer-container">
                <span class="timer" id="timer">15</span>
                <div class="timer-bar">
                    <div class="timer-fill" id="timerFill"></div>
                </div>
            </div>
            <div class="stat stat-question">
                <span class="stat-icon">‚ùì</span>
                <span class="stat-value" id="questionNum">1/20</span>
                <span class="stat-label">Question</span>
            </div>
        </div>

        <div class="hands-container">
            <div class="question-badge" id="questionBadge">Question 1 of 20</div>
            <div class="hands-display" id="handsDisplay">
                <!-- SVG hands will be inserted here -->
            </div>
        </div>

        <div class="options-container" id="optionsContainer">
            <!-- Options will be inserted here -->
        </div>

        <div class="feedback">
            <div class="feedback-text" id="feedbackText"></div>
            <div class="bonus-text" id="bonusText"></div>
        </div>

        <button class="next-btn" id="nextBtn" onclick="nextQuestion()">Next Question ‚û°Ô∏è</button>
    </div>

    <!-- Confetti container -->
    <div class="confetti-container" id="confettiContainer"></div>

    <!-- Game Over Screen -->
    <div class="game-over" id="gameOver">
        <div class="game-over-content">
            <div class="trophy">üèÜ</div>
            <h2>Amazing Job!</h2>
            <div class="final-stats">
                <div class="final-stat">
                    <div class="final-stat-icon">‚≠ê</div>
                    <div class="final-stat-value" id="finalScore">0</div>
                    <div class="final-stat-label">Total Points</div>
                </div>
                <div class="final-stat">
                    <div class="final-stat-icon">‚úÖ</div>
                    <div class="final-stat-value" id="finalCorrect">0</div>
                    <div class="final-stat-label">Correct</div>
                </div>
                <div class="final-stat">
                    <div class="final-stat-icon">‚ùå</div>
                    <div class="final-stat-value" id="finalIncorrect">0</div>
                    <div class="final-stat-label">Incorrect</div>
                </div>
                <div class="final-stat">
                    <div class="final-stat-icon">üìä</div>
                    <div class="final-stat-value" id="finalAccuracy">0%</div>
                    <div class="final-stat-label">Accuracy</div>
                </div>
            </div>
            <div class="message" id="finalMessage">Great work!</div>
            <button class="play-again-btn" onclick="playAgain()">üîÑ Play Again!</button>
        </div>
    </div>

    <script>
        // ============================================
        // GAME CONFIGURATION
        // ============================================
        const TOTAL_QUESTIONS = 20;
        const TIMER_DURATION = 15;
        const BASE_POINTS = 10;
        const MAX_TIME_BONUS = 30;
        const STREAK_BONUS = 5;

        // Number words
        const numberWords = ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten'];

        // ============================================
        // GAME STATE
        // ============================================
        let currentNumber = 0;
        let score = 0;
        let streak = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let currentQuestion = 0;
        let timerInterval = null;
        let timeLeft = TIMER_DURATION;
        let answered = false;
        let usedNumbers = [];
        let availableNumbers = [];

        // Audio context for sounds
        let audioContext = null;

        // ============================================
        // AUDIO FUNCTIONS
        // ============================================
        function initAudio() {
            audioContext = new (window.AudioContext || window.webkitAudioContext)();
        }

        function playCorrectSound() {
            if (!audioContext) initAudio();
            const now = audioContext.currentTime;
            
            // Do-Mi-Sol ascending melody
            [261.63, 329.63, 392.00].forEach((freq, i) => {
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                osc.connect(gain);
                gain.connect(audioContext.destination);
                osc.frequency.value = freq;
                osc.type = 'sine';
                gain.gain.setValueAtTime(0.3, now + i * 0.1);
                gain.gain.exponentialDecayTo && gain.gain.exponentialDecayTo(0.01, now + i * 0.1 + 0.3);
                gain.gain.setValueAtTime(0.3, now + i * 0.1);
                gain.gain.linearRampToValueAtTime(0.01, now + i * 0.1 + 0.25);
                osc.start(now + i * 0.1);
                osc.stop(now + i * 0.1 + 0.3);
            });
        }

        function playIncorrectSound() {
            if (!audioContext) initAudio();
            const now = audioContext.currentTime;
            
            // Descending tones
            [300, 250].forEach((freq, i) => {
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                osc.connect(gain);
                gain.connect(audioContext.destination);
                osc.frequency.value = freq;
                osc.type = 'triangle';
                gain.gain.setValueAtTime(0.2, now + i * 0.15);
                gain.gain.linearRampToValueAtTime(0.01, now + i * 0.15 + 0.2);
                osc.start(now + i * 0.15);
                osc.stop(now + i * 0.15 + 0.25);
            });
        }

        // ============================================
        // SVG HAND GENERATION (Simplified Geometric Style)
        // ============================================
        function createHandSVG(fingers, isLeft = false) {
            // fingers: array of booleans [thumb, index, middle, ring, pinky]
            const strokeColor = '#4A4A4A';
            const strokeWidth = 2.5;
            const fillColor = '#F7C8A3';
            
            let svg = `<svg class="hand-svg" viewBox="0 0 100 130" xmlns="http://www.w3.org/2000/svg">`;
            
            // Simple geometric palm (rounded rectangle)
            svg += `<rect x="20" y="60" width="60" height="55" rx="12" ry="12" 
                    fill="${fillColor}" stroke="${strokeColor}" stroke-width="${strokeWidth}"/>`;
            
            // Wrist (simple rectangle)
            svg += `<rect x="30" y="110" width="40" height="18" rx="6" 
                    fill="${fillColor}" stroke="${strokeColor}" stroke-width="${strokeWidth}"/>`;
            
            // Finger positions - simple rounded rectangles extending from palm
            // All fingers start from inside the palm area for clean connection
            const fingerConfigs = isLeft ? 
                [
                    // Thumb - positioned on side of palm
                    { x: 8, y: 58, w: 16, h: 32, rx: 8, rotation: -25, originX: 16, originY: 74 },
                    // Index
                    { x: 22, y: 20, w: 14, h: 45, rx: 7, rotation: 0, originX: 29, originY: 65 },
                    // Middle  
                    { x: 38, y: 12, w: 14, h: 52, rx: 7, rotation: 0, originX: 45, originY: 64 },
                    // Ring
                    { x: 54, y: 18, w: 14, h: 47, rx: 7, rotation: 0, originX: 61, originY: 65 },
                    // Pinky
                    { x: 70, y: 28, w: 12, h: 38, rx: 6, rotation: 0, originX: 76, originY: 66 }
                ] :
                [
                    // Thumb - positioned on side of palm (mirrored)
                    { x: 76, y: 58, w: 16, h: 32, rx: 8, rotation: 25, originX: 84, originY: 74 },
                    // Index
                    { x: 64, y: 20, w: 14, h: 45, rx: 7, rotation: 0, originX: 71, originY: 65 },
                    // Middle
                    { x: 48, y: 12, w: 14, h: 52, rx: 7, rotation: 0, originX: 55, originY: 64 },
                    // Ring
                    { x: 32, y: 18, w: 14, h: 47, rx: 7, rotation: 0, originX: 39, originY: 65 },
                    // Pinky
                    { x: 18, y: 28, w: 12, h: 38, rx: 6, rotation: 0, originX: 24, originY: 66 }
                ];
            
            fingers.forEach((isUp, i) => {
                const f = fingerConfigs[i];
                if (isUp) {
                    if (i === 0) {
                        // Thumb - draw at angle
                        svg += `<rect x="${f.x}" y="${f.y}" width="${f.w}" height="${f.h}" rx="${f.rx}" ry="${f.rx}"
                                fill="${fillColor}" stroke="${strokeColor}" stroke-width="${strokeWidth}"
                                transform="rotate(${f.rotation}, ${f.originX}, ${f.originY})"/>`;
                    } else {
                        // Regular fingers - simple rounded rectangles
                        svg += `<rect x="${f.x}" y="${f.y}" width="${f.w}" height="${f.h}" rx="${f.rx}" ry="${f.rx}"
                                fill="${fillColor}" stroke="${strokeColor}" stroke-width="${strokeWidth}"/>`;
                    }
                }
            });
            
            // Draw palm again on top to cover finger bases (clean overlap)
            svg += `<rect x="20" y="60" width="60" height="55" rx="12" ry="12" 
                    fill="${fillColor}" stroke="${strokeColor}" stroke-width="${strokeWidth}"/>`;
            
            // Add simple knuckle dots for folded fingers
            fingers.forEach((isUp, i) => {
                if (!isUp && i > 0) {
                    const knuckleX = isLeft ? 
                        [0, 29, 45, 61, 76][i] : 
                        [0, 71, 55, 39, 24][i];
                    svg += `<circle cx="${knuckleX}" cy="65" r="4" 
                            fill="${fillColor}" stroke="${strokeColor}" stroke-width="1.5"/>`;
                }
            });
            
            svg += `</svg>`;
            return svg;
        }

        function getHandsForNumber(num) {
            // Returns configuration for displaying number with hands
            // [thumb, index, middle, ring, pinky] - true = up, false = down
            const configs = {
                1: [{ fingers: [false, true, false, false, false], left: false }],
                2: [{ fingers: [false, true, true, false, false], left: false }],
                3: [{ fingers: [false, true, true, true, false], left: false }],
                4: [{ fingers: [false, true, true, true, true], left: false }],
                5: [{ fingers: [true, true, true, true, true], left: false }],
                6: [
                    { fingers: [true, true, true, true, true], left: true },
                    { fingers: [false, true, false, false, false], left: false }
                ],
                7: [
                    { fingers: [true, true, true, true, true], left: true },
                    { fingers: [false, true, true, false, false], left: false }
                ],
                8: [
                    { fingers: [true, true, true, true, true], left: true },
                    { fingers: [false, true, true, true, false], left: false }
                ],
                9: [
                    { fingers: [true, true, true, true, true], left: true },
                    { fingers: [false, true, true, true, true], left: false }
                ],
                10: [
                    { fingers: [true, true, true, true, true], left: true },
                    { fingers: [true, true, true, true, true], left: false }
                ]
            };
            return configs[num];
        }

        // ============================================
        // FISHER-YATES SHUFFLE
        // ============================================
        function shuffleArray(array) {
            const arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        // ============================================
        // NUMBER SELECTION (Anti-repetition)
        // ============================================
        function getNextNumber() {
            if (availableNumbers.length === 0) {
                // Reset and shuffle when all numbers used
                availableNumbers = shuffleArray([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
                // Remove last 2 used numbers to ensure no immediate repeats
                if (usedNumbers.length >= 2) {
                    const lastTwo = usedNumbers.slice(-2);
                    availableNumbers = availableNumbers.filter(n => !lastTwo.includes(n));
                }
            }
            const num = availableNumbers.shift();
            usedNumbers.push(num);
            if (usedNumbers.length > 8) usedNumbers.shift();
            return num;
        }

        function getUniqueOptions(correctNum) {
            let options = [correctNum];
            const allNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].filter(n => n !== correctNum);
            const shuffled = shuffleArray(allNumbers);
            options = options.concat(shuffled.slice(0, 3));
            return shuffleArray(options);
        }

        // ============================================
        // CONFETTI
        // ============================================
        function createConfetti(count = 50, massive = false) {
            const container = document.getElementById('confettiContainer');
            const shapes = ['‚óè', '‚ñ†', '‚ñ≤', '‚òÖ', '‚ô•'];
            const colors = ['#3DD8E6', '#F9C21B', '#D94A2F', '#7CC74C', '#9B7DCE', '#A8D5F2'];
            
            for (let i = 0; i < count; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.textContent = shapes[Math.floor(Math.random() * shapes.length)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.color = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = (massive ? 3 : 2) + Math.random() * 2 + 's';
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                confetti.style.fontSize = (massive ? 2 : 1) + Math.random() * 1.5 + 'rem';
                container.appendChild(confetti);
                
                setTimeout(() => confetti.remove(), 5000);
            }
        }

        // ============================================
        // TIMER
        // ============================================
        function startTimer() {
            timeLeft = TIMER_DURATION;
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleTimeout();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const timer = document.getElementById('timer');
            const timerFill = document.getElementById('timerFill');
            
            timer.textContent = timeLeft;
            timerFill.style.width = (timeLeft / TIMER_DURATION * 100) + '%';
            
            timer.classList.remove('warning', 'danger');
            timerFill.classList.remove('warning', 'danger');
            
            if (timeLeft <= 3) {
                timer.classList.add('danger');
                timerFill.classList.add('danger');
            } else if (timeLeft <= 7) {
                timer.classList.add('warning');
                timerFill.classList.add('warning');
            }
        }

        function handleTimeout() {
            if (answered) return;
            answered = true;
            
            playIncorrectSound();
            incorrectAnswers++;
            streak = 0;
            
            const feedbackText = document.getElementById('feedbackText');
            feedbackText.textContent = "‚è∞ Time's up!";
            feedbackText.className = 'feedback-text incorrect show';
            
            // Show correct answer
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(btn => {
                btn.disabled = true;
                if (btn.dataset.number === String(currentNumber)) {
                    btn.classList.add('correct');
                }
            });
            
            updateStats();
            document.getElementById('nextBtn').classList.add('show');
        }

        // ============================================
        // GAME LOGIC
        // ============================================
        function displayHands() {
            const handsDisplay = document.getElementById('handsDisplay');
            const configs = getHandsForNumber(currentNumber);
            
            handsDisplay.innerHTML = configs.map(config => 
                createHandSVG(config.fingers, config.left)
            ).join('');
        }

        function displayOptions() {
            const container = document.getElementById('optionsContainer');
            const options = getUniqueOptions(currentNumber);
            
            container.innerHTML = options.map(num => 
                `<button class="option-btn" data-number="${num}" onclick="checkAnswer(${num})">
                    ${numberWords[num - 1]}
                </button>`
            ).join('');
        }

        function checkAnswer(selected) {
            if (answered) return;
            answered = true;
            clearInterval(timerInterval);
            
            const feedbackText = document.getElementById('feedbackText');
            const bonusText = document.getElementById('bonusText');
            const buttons = document.querySelectorAll('.option-btn');
            
            buttons.forEach(btn => {
                btn.disabled = true;
                if (parseInt(btn.dataset.number) === currentNumber) {
                    btn.classList.add('correct');
                }
            });
            
            if (selected === currentNumber) {
                // Correct answer
                playCorrectSound();
                correctAnswers++;
                streak++;
                
                // Calculate points
                const timeBonus = Math.round((timeLeft / TIMER_DURATION) * MAX_TIME_BONUS);
                const streakBonus = (streak - 1) * STREAK_BONUS;
                const totalPoints = BASE_POINTS + timeBonus + streakBonus;
                score += totalPoints;
                
                // Feedback
                const messages = ['Great job! üéâ', 'Awesome! ‚≠ê', 'Well done! üëè', 'Perfect! üåü', 'Amazing! üéä'];
                feedbackText.textContent = '‚úîÔ∏è ' + messages[Math.floor(Math.random() * messages.length)];
                feedbackText.className = 'feedback-text correct show';
                
                // Show bonus breakdown
                let bonusBreakdown = `+${BASE_POINTS} pts`;
                if (timeBonus > 0) bonusBreakdown += ` | ‚è±Ô∏è +${timeBonus}`;
                if (streakBonus > 0) bonusBreakdown += ` | üî• +${streakBonus}`;
                bonusText.textContent = bonusBreakdown;
                bonusText.classList.add('show');
                
                createConfetti(30);
            } else {
                // Incorrect answer
                playIncorrectSound();
                incorrectAnswers++;
                streak = 0;
                
                buttons.forEach(btn => {
                    if (parseInt(btn.dataset.number) === selected) {
                        btn.classList.add('incorrect');
                    }
                });
                
                const messages = ['Oops! Try again! üí™', 'Look carefully! üëÄ', 'Not quite! ü§î', 'Keep trying! üí´'];
                feedbackText.textContent = '‚ùå ' + messages[Math.floor(Math.random() * messages.length)];
                feedbackText.className = 'feedback-text incorrect show';
                bonusText.textContent = '';
                bonusText.classList.remove('show');
            }
            
            updateStats();
            document.getElementById('nextBtn').classList.add('show');
        }

        function updateStats() {
            document.getElementById('score').textContent = score;
            document.getElementById('streak').textContent = streak;
            document.getElementById('questionNum').textContent = `${currentQuestion}/${TOTAL_QUESTIONS}`;
        }

        function nextQuestion() {
            if (currentQuestion >= TOTAL_QUESTIONS) {
                showGameOver();
                return;
            }
            
            currentQuestion++;
            answered = false;
            
            // Reset UI
            document.getElementById('feedbackText').className = 'feedback-text';
            document.getElementById('bonusText').className = 'bonus-text';
            document.getElementById('nextBtn').classList.remove('show');
            document.getElementById('questionBadge').textContent = `Question ${currentQuestion} of ${TOTAL_QUESTIONS}`;
            
            // New number
            currentNumber = getNextNumber();
            
            displayHands();
            displayOptions();
            updateStats();
            startTimer();
        }

        // ============================================
        // GAME SCREENS
        // ============================================
        function showGameOver() {
            clearInterval(timerInterval);
            
            const accuracy = Math.round((correctAnswers / TOTAL_QUESTIONS) * 100);
            
            document.getElementById('finalScore').textContent = score;
            document.getElementById('finalCorrect').textContent = correctAnswers;
            document.getElementById('finalIncorrect').textContent = incorrectAnswers;
            document.getElementById('finalAccuracy').textContent = accuracy + '%';
            
            // Generate message based on performance
            let message = '';
            if (accuracy >= 90) {
                message = 'üåü Superstar! You\'re a number champion!';
            } else if (accuracy >= 70) {
                message = 'üéâ Great work! Keep practicing!';
            } else if (accuracy >= 50) {
                message = 'üí™ Good effort! You\'re learning fast!';
            } else {
                message = 'üå± Keep going! Practice makes perfect!';
            }
            document.getElementById('finalMessage').textContent = message;
            
            document.getElementById('gameOver').classList.add('show');
            createConfetti(100, true);
        }

        function playAgain() {
            // Reset all state
            score = 0;
            streak = 0;
            correctAnswers = 0;
            incorrectAnswers = 0;
            currentQuestion = 0;
            usedNumbers = [];
            availableNumbers = shuffleArray([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
            
            document.getElementById('gameOver').classList.remove('show');
            nextQuestion();
        }

        function startGame() {
            initAudio();
            document.getElementById('startScreen').classList.add('hide');
            
            // Initialize game
            availableNumbers = shuffleArray([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
            nextQuestion();
        }

        // ============================================
        // INITIALIZATION
        // ============================================
        document.addEventListener('DOMContentLoaded', () => {
            // Pre-load everything
            availableNumbers = shuffleArray([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
        });
    </script>
</body>
</html>
